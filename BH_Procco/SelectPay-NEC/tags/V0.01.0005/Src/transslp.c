#include <posapi.h> // use PAXPayPro2010's path, but don't copy to project folder.
#include <Stdarg.h>

#include "os_define.h"
#include "defines.h"
#include "struct.h"
#include "function.h"
#include "message.h"
#include "COMMON.h"
#include "utility.h"
#include "appLib.h"
#include "stdlib.h"
#include "iso.h"

unsigned char sSelektpayNECLogo_Prn[]=
{   
 0x54,
   0x00,0x48, 
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x00,0xf8,0x00,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x01,0xfc,0x00,0x7e,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x03,0xfe,0x00,0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x03,0xfe,0x01,0xff,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x07,0xfe,0x01,0xff,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x07,0xfe,0x01,0xff,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x03,0xfe,0x01,0xff,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x03,0xfe,0x01,0xff,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x01,0xfc,0x00,0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x01,0xf8,0x00,0xf8,0x00,0x7f,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x03,0xfc,0x00,0x00,0x00,0x3c,0x00,0x3c,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x03,0xfe,0x00,0x00,0x00,0x00,0x00,0xfe,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x07,0xfe,0x00,0x00,0x00,0x00,0x01,0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x07,0xfe,0x00,0x00,0x00,0x00,0x01,0xff,0x80,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x07,0xfe,0x00,0x00,0x00,0x00,0x01,0xff,0x80,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x03,0xfe,0x00,0x00,0x00,0x00,0x01,0xff,0x80,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x03,0xfe,0x00,0x00,0x00,0x00,0x01,0xff,0x80,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x01,0xfc,0x00,0x00,0x00,0x00,0x01,0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0xf0,0x00,0x00,0x00,0x00,0x00,0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x00,0x3f,0xff,0xc0,0x00,
   0x00,0x03,0xff,0x80,0x3f,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7e,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x00,0x3f,0xff,0xc0,0x00,
   0x00,0x03,0xfc,0x00,0x07,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x00,0x1f,0xff,0xc0,0x00,
   0x00,0x03,0xf0,0x00,0x01,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x00,0x0f,0xff,0xc0,0x00,
   0x00,0x03,0xc0,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x00,0x0f,0xff,0xc0,0x00,
   0x00,0x03,0x80,0x00,0x00,0x3f,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x00,0x07,0xff,0xc0,0x10,
   0x00,0x03,0x00,0x00,0x00,0x7f,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x01,0xe0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x00,0x03,0xff,0xc0,0x30,
   0x00,0x02,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x07,0xf0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x00,0x03,0xff,0xc0,0x70,
   0x00,0x00,0x00,0x3f,0x81,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x0f,0xf8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x00,0x01,0xff,0xc0,0xff,
   0xff,0xfc,0x00,0xff,0xe3,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x0f,0xfc,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x00,0x00,0xff,0xc1,0xff,
   0xff,0xf8,0x01,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x1f,0xfc,0x00,0x00,0x00,0x00,0x3f,0x00,0x00,0xfc,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x02,0x00,0xff,0xc3,0xff,
   0xff,0xf8,0x03,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x1f,0xfc,0x00,0x00,0x00,0x00,0x0f,0x00,0x00,0x7c,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x07,0xb1,0x80,0xff,0xff,0xff,0xff,0xfc,0x03,0x00,0x7f,0xc7,0xff,
   0xff,0xf0,0x07,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x0f,0xfc,0x00,0x00,0x00,0x00,0x07,0x00,0x00,0x1c,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x03,0x39,0x80,0xff,0xff,0xff,0xff,0xfc,0x03,0x80,0x3f,0xc3,0xff,
   0xff,0xf0,0x0f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x0f,0xf8,0x00,0x00,0x00,0x00,0x07,0x00,0x00,0x1c,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x03,0x3f,0x80,0xff,0xff,0xff,0xff,0xfc,0x03,0x80,0x3f,0xc1,0xff,
   0xff,0xf0,0x0f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x07,0xf8,0x00,0x00,0x00,0x00,0x07,0x00,0x00,0x1c,0x00,0x07,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x03,0x3e,0x80,0xff,0xff,0xff,0xff,0xfc,0x03,0xc0,0x1f,0xc0,0xff,
   0xff,0xe0,0x1f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x03,0xf0,0x00,0x00,0x00,0x00,0x07,0x00,0x00,0x1c,0x00,0x07,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x03,0x26,0x80,0xff,0xff,0xff,0xff,0xfc,0x03,0xe0,0x0f,0xc0,0x70,
   0x00,0x00,0x1f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x00,0x00,0x1c,0x00,0x07,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x02,0x24,0x80,0xff,0xff,0xff,0xff,0xfc,0x03,0xe0,0x07,0xc0,0x30,
   0x00,0x00,0x1f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x3f,0x00,0x7c,0x07,0x03,0xe0,0x1c,0x1f,0x9f,0xf0,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x03,0xf0,0x07,0xc0,0x00,
   0x00,0x00,0x1f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x73,0xc1,0xce,0x07,0x07,0x78,0x1c,0x1f,0xbf,0xf1,0xf8,0x78,0x01,
   0xf8,0xff,0x07,0x80,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x03,0xf8,0x03,0xc0,0x00,
   0x00,0x00,0x1f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0xe0,0xc3,0x87,0x07,0x0e,0x1c,0x1c,0x0e,0x07,0x00,0xf9,0xfe,0x0f,
   0xbc,0x7e,0x07,0x80,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x03,0xf8,0x01,0xc0,0x00,
   0x00,0x00,0x1f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x01,0xc0,0xc7,0x03,0x87,0x1c,0x1c,0x1c,0x0c,0x07,0x00,0x3f,0xbe,0x0e,
   0x1e,0x3c,0x03,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x03,0xfc,0x01,0xc0,0x00,
   0x00,0x10,0x1f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x01,0xc0,0xc7,0x03,0x87,0x3c,0x1e,0x1c,0x38,0x07,0x00,0x3e,0x0f,0x04,
   0x0e,0x1c,0x02,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x03,0xfe,0x00,0xc0,0x00,
   0x00,0x18,0x1f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x01,0xe0,0x0e,0x03,0x87,0x38,0x0e,0x1c,0x70,0x07,0x00,0x3c,0x07,0x80,
   0x0e,0x1e,0x06,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x03,0xfe,0x00,0x40,0x00,
   0x00,0x1c,0x1f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x01,0xf0,0x0f,0x03,0x87,0x38,0x1e,0x1c,0x60,0x07,0x00,0x38,0x07,0x80,
   0x0e,0x1e,0x06,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x03,0xff,0x00,0x00,0x3f,
   0xff,0xfe,0x1f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0xfc,0x0f,0xff,0xc7,0x3b,0xfe,0x1d,0xc0,0x07,0x00,0x38,0x07,0x80,
   0x0f,0x0e,0x0c,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x03,0xff,0x80,0x00,0x3f,
   0xff,0xff,0x0f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x07,0xe0,0x00,0x7f,0x0e,0x7f,0x87,0x39,0xfe,0x1f,0xc0,0x07,0x00,0x38,0x03,0x83,
   0xff,0x0f,0x0c,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x03,0xff,0x80,0x00,0x3f,
   0xff,0xff,0x8f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x0f,0xf0,0x00,0x3f,0xce,0x00,0x07,0x38,0x00,0x1f,0xe0,0x07,0x00,0x38,0x03,0x8f,
   0x8f,0x07,0x08,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x03,0xff,0xc0,0x00,0x3f,
   0xff,0xff,0x87,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x1f,0xf8,0x00,0x0f,0xee,0x00,0x07,0x38,0x00,0x1c,0xf0,0x07,0x00,0x38,0x03,0x9e,
   0x0f,0x07,0x98,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x03,0xff,0xe0,0x00,0x3f,
   0xff,0xff,0x83,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x1f,0xf8,0x00,0x01,0xef,0x00,0x07,0x38,0x00,0x1c,0x78,0x07,0x00,0x38,0x03,0x9c,
   0x0f,0x07,0x90,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x03,0xff,0xf0,0x00,0x3f,
   0xff,0xff,0x01,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x1f,0xf8,0x00,0x00,0xef,0x00,0x07,0x3c,0x00,0x1c,0x7c,0x07,0x00,0x38,0x07,0x9c,
   0x0f,0x03,0xb0,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x03,0xff,0xf0,0x00,0x3f,
   0xff,0xfe,0x00,0xff,0xe3,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x1f,0xf8,0x00,0x00,0xe7,0x00,0x07,0x3c,0x00,0x1c,0x3c,0x07,0x00,0x38,0x07,0x1c,
   0x0f,0x03,0xe0,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x03,0xff,0xf8,0x00,0x00,
   0x00,0x1c,0x00,0x3f,0x81,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x1f,0xf8,0x07,0x00,0xe7,0x80,0x07,0x1e,0x00,0x1c,0x1e,0x07,0x00,0x3c,0x07,0x1e,
   0x1f,0x01,0xe0,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x03,0xff,0xfc,0x00,0x00,
   0x00,0x1a,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x0f,0xf0,0x0f,0xc1,0xc3,0xe1,0x87,0x8f,0x06,0x1e,0x0f,0x07,0x80,0x3e,0x0e,0x0f,
   0xff,0x01,0xc0,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x03,0xff,0xfc,0x00,0x00,
   0x00,0x13,0x00,0x00,0x00,0x7f,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x07,0xf0,0x00,0xff,0x81,0xff,0xbf,0xe7,0xfe,0xff,0x87,0xc3,0xf0,0x3f,0xfc,0x07,
   0xe3,0xc1,0xc0,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x03,0xff,0xfe,0x00,0x00,
   0x00,0x03,0x80,0x00,0x00,0x3f,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x01,0xc0,0x00,0x1e,0x00,0x3e,0x10,0x41,0xf0,0x41,0x00,0x40,0xf0,0x38,0x00,0x00,
   0x00,0x01,0x80,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x03,0xff,0xff,0x00,0x00,
   0x00,0x03,0xc0,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x38,0x00,0x00,
   0x00,0x01,0x80,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x03,0xff,0xff,0x00,0x00,
   0x00,0x03,0xf0,0x00,0x01,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x38,0x00,0x00,
   0x00,0x03,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x03,0xff,0xff,0x80,0x00,
   0x00,0x03,0xfc,0x00,0x07,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x38,0x00,0x00,
   0x00,0x07,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xfc,0x07,0xff,0xff,0xc0,0x00,
   0x00,0x03,0xff,0x80,0x3f,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x38,0x00,0x00,
   0x00,0x0f,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xfc,0x00,0x00,
   0x00,0x1e,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xff,0x00,0x00,
   0x00,0x1e,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x03,0xf0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x07,0xf8,0x00,0x00,0x00,0x00,0x00,0xf8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x0f,0xf8,0x00,0x00,0x00,0x00,0x01,0xfc,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x0f,0xfc,0x00,0x00,0x00,0x00,0x03,0xfe,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x0f,0xfc,0x00,0x00,0x00,0x00,0x03,0xfe,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x0f,0xfc,0x00,0x00,0x00,0x00,0x07,0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x0f,0xfc,0x00,0x00,0x00,0x00,0x07,0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x0f,0xf8,0x00,0x00,0x00,0x00,0x03,0xfe,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x07,0xf0,0x00,0x00,0x00,0x00,0x03,0xfe,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x01,0xe0,0x03,0xc0,0x00,0x00,0x01,0xfe,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x07,0xf0,0x00,0xf8,0x00,0xf8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x0f,0xf0,0x01,0xfc,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x0f,0xf8,0x03,0xfe,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x1f,0xf8,0x03,0xfe,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x1f,0xf8,0x07,0xfe,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x1f,0xf8,0x07,0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x0f,0xf8,0x03,0xfe,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x0f,0xf0,0x03,0xfe,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x07,0xe0,0x01,0xfc,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x01,0xc0,0x00,0xf8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x48, 
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
};



#define LENGTH_PRN_ACT      3   // the length of PRN_ACT_XXXXXXX
#define LENGTH_PRN_L        3   // the length of length field
#define PRN_ACT_FONTSIZE    "001"
#define PRN_ACT_ENG         "002"
#define PRN_ACT_ARABIC_LEFT "003"
#define PRN_ACT_ARABIC_CENT "004"
#define PRN_ACT_ARABIC_RIGH "005"
#define PRN_ACT_LOGO        "006"
#define PRN_ACT_STEP        "007"
#define PRN_ACT_ATTR	  "008"

#define PRN_DOUBLE_HEIGHT	0x01
#define PRN_DOUBLE_WIDTH	0x02
#define PRN_DOUBLE_ENGLISH		0x04
#define PRN_DOUBLE_ARABIC	0x08
#define PRN_DOUBLE_NULL	0x10

static WORD TransSlipWriteFile(BYTE *fbaR1Buf,BYTE *csFILE);

//=================================================================================================
//=================================================================================================

static char sPrnBuffer1[LG_PRN_BUFFER], sPrnBuffer2[LG_PRN_BUFFER], sPrnBuffer3[LG_PRN_BUFFER], sPrnBufferTemp[LG_PRN_BUFFER];

void PrintBuffer_Init(char *pBuffer, unsigned int uiBuffSize)
{
    memset(pBuffer, 0, uiBuffSize);
}

void PrintBuffer_SelectFont(char *pBuffer, int font_size)
{
    strcat(pBuffer, PRN_ACT_FONTSIZE);  // tag: to indicate action
    strcat(pBuffer, "002");             // length: to indicate length
    sprintf(pBuffer+strlen(pBuffer), "%02d", font_size);  // data field
}

void PrintBuffer_Eng(char *pBuffer, char *pszStr, ...)
{
	char		szBuff[1024+1];
	va_list		pVaList;

	va_start(pVaList, pszStr);
	vsprintf(szBuff, pszStr, pVaList);
	va_end(pVaList);

    strcat(pBuffer, PRN_ACT_ENG);                               // tag: to indicate action
    sprintf(pBuffer+strlen(pBuffer), "%03d", strlen(szBuff));   // length: to indicate length
    strcat(pBuffer, szBuff);                                    // data field
}

void PrintBuffer_Logo(char *pBuffer, BYTE *Logo)
{
    strcat(pBuffer, PRN_ACT_LOGO);                          // tag: to indicate action
    strcat(pBuffer, "001");                                 // length: to indicate length
    strcat(pBuffer, "0"); // data field
}

void PrintBuffer_Arabic(char *pBuffer, char *pszAction, char *pszStr)
{
    strcat(pBuffer, pszAction);                       // tag: to indicate action
    sprintf(pBuffer+strlen(pBuffer), "%03d", strlen(pszStr));   // length: to indicate length
    strcat(pBuffer, pszStr);                                    // data field
}

void PrintBuffer_Step(char *pBuffer, int iStep)
{
    strcat(pBuffer, PRN_ACT_STEP);  // tag: to indicate action
    strcat(pBuffer, "004");             // length: to indicate length
    sprintf(pBuffer+strlen(pBuffer), "%04d", iStep);  // data field
}

void PrintBuffer_Attr(char *pBuffer, char cAttr)
{
	strcat(pBuffer, PRN_ACT_ATTR);
	strcat(pBuffer, "001");
	sprintf(pBuffer+strlen(pBuffer), "%c", cAttr);
}

void PrintBuffer_SendToPrinter(char *pszBuffer)
{
    char *pNow, *pEnd, szAct[3+1], szBuff[1024];
    int iLen, iFontSize;
    ST_FONT stFont;

    if (pszBuffer==NULL)
    {
        return;
    }    

    memset(&stFont, 0, sizeof(stFont));
    stFont.CharSet = CHARSET_WEST;

    pNow = pszBuffer;
    pEnd = pszBuffer+strlen(pszBuffer);

    while (pNow+LENGTH_PRN_ACT+LENGTH_PRN_L<pEnd)
    {
        sprintf(szAct, "%.*s", LENGTH_PRN_ACT, pNow);
        pNow += LENGTH_PRN_ACT;

        iLen = PubAsc2Long(pNow, LENGTH_PRN_L, NULL);
        pNow += LENGTH_PRN_L;

        sprintf(szBuff, "%.*s", iLen, pNow);

        if (strcmp(szAct, PRN_ACT_FONTSIZE)==0)
        {
            iFontSize = atoi(szBuff);
            stFont.Width  = iFontSize/2;
            stFont.Height = iFontSize;
            stFont.Bold   = 0;
            if (PrnSelectFont(&stFont, NULL)!=0)
            {
                stFont.Bold = 1;
                PrnSelectFont(&stFont, NULL);
            }
        }
        else if (strcmp(szAct, PRN_ACT_ENG)==0)
        {
            PrnStr(szBuff);
        }
        else if (strcmp(szAct, PRN_ACT_ARABIC_LEFT)==0)
        {
            ArPrintString(SHIFT_LEFT, szBuff);
        }
        else if (strcmp(szAct, PRN_ACT_ARABIC_CENT)==0)
        {
            ArPrintString(SHIFT_CENTER, szBuff);
        }
        else if (strcmp(szAct, PRN_ACT_ARABIC_RIGH)==0)
        {
            ArPrintString(SHIFT_RIGHT, szBuff);
        }
        else if (strcmp(szAct, PRN_ACT_LOGO)==0)
        {
            //PrnLogo(sAlBarakaLogo_Prn);
			PrnLogo(sSelektpayNECLogo_Prn);//modify by lqc 20150619
        }
        else if (strcmp(szAct, PRN_ACT_STEP)==0)
        {
            iFontSize = atoi(szBuff);
            PrnStep((short)iFontSize);
        }
		else if(strcmp(szAct, PRN_ACT_ATTR) == 0)
		{
			ArPrnDoubleWidth(0);
			ArPrnDoubleHigh(0);
			PrnDoubleWidth(0, 0);
			PrnDoubleHeight(0, 0);
				
			if(szBuff[0]  & PRN_DOUBLE_ARABIC)
			{
				if(szBuff[0] & PRN_DOUBLE_WIDTH)
					ArPrnDoubleWidth(1);
				if(szBuff[0] & PRN_DOUBLE_HEIGHT)
					ArPrnDoubleHigh(1);
			}

			if(szBuff[0] & PRN_DOUBLE_ENGLISH);
			{
				if(szBuff[0] & PRN_DOUBLE_WIDTH)
					PrnDoubleWidth(1, 1);
				if(szBuff[0] & PRN_DOUBLE_HEIGHT)
					PrnDoubleHeight(1, 1);
			}
		}
        else
        {
        }

        pNow += iLen;
    }
}

//=================================================================================================
//=================================================================================================
WORD PrnHead(char *pszBuffer)
{
    HDGStruct lrHDGBuf;		// General Parameters structure

	unsigned char buffer1[49];
	unsigned char buffer2[49];
	unsigned char buffer3[49];
	unsigned char uclen;

    if ( HDGRead(&lrHDGBuf)!=STAT_OK)
    {
        return STAT_NOK;
    }

    PrintBuffer_Attr(pszBuffer, PRN_DOUBLE_HEIGHT|PRN_DOUBLE_WIDTH|PRN_DOUBLE_ENGLISH);
    PrintBuffer_Eng(pszBuffer, "\n\n");
   // PrintBuffer_Logo(pszBuffer, sAlBarakaLogo_Prn);
	PrintBuffer_Logo(pszBuffer, sSelektpayNECLogo_Prn);// modiry by lqc 20150619
    PrintBuffer_Eng(pszBuffer, "\n");
    // Merchant name/address
	PrintBuffer_Attr(pszBuffer, PRN_DOUBLE_HEIGHT|PRN_DOUBLE_WIDTH|PRN_DOUBLE_ENGLISH);
	
	sprintf((char *)buffer1, "%24.24s", gPTStruct.MerchData);
	PubTrimHeadChars(buffer1, ' ');
	PubTrimTailChars(buffer1, ' ');
	uclen = 12 + strlen(buffer1)/2;
	sprintf((char *)buffer2, "%%%d.%ds", uclen, uclen);
	sprintf((char *)buffer3, buffer2, buffer1);
	PrintBuffer_Eng(pszBuffer, "%s\n", buffer3);
	
	sprintf((char *)buffer1, "%24.24s", gPTStruct.MerchData+24);
	PubTrimHeadChars(buffer1, ' ');
	PubTrimTailChars(buffer1, ' ');
	uclen = 12 + strlen(buffer1)/2;
	sprintf((char *)buffer2, "%%%d.%ds", uclen, uclen);
	sprintf((char *)buffer3, buffer2, buffer1);
	PrintBuffer_Eng(pszBuffer, "%s\n", buffer3);

	sprintf((char *)buffer1, "%24.24s", gPTStruct.MerchData+48);
	PubTrimHeadChars(buffer1, ' ');
	PubTrimTailChars(buffer1, ' ');
	uclen = 12 + strlen(buffer1)/2;
	sprintf((char *)buffer2, "%%%d.%ds", uclen, uclen);
	sprintf((char *)buffer3, buffer2, buffer1);
	PrintBuffer_Eng(pszBuffer, "%s\n", buffer3);

	sprintf((char *)buffer1, "%.24s", gPTStruct.MerchData+72);
	PubTrimHeadChars(buffer1, ' ');
	PubTrimTailChars(buffer1, ' ');
	uclen = 12 + strlen(buffer1)/2;
	sprintf((char *)buffer2, "%%%d.%ds", uclen, uclen);
	sprintf((char *)buffer3, buffer2, buffer1);
	PrintBuffer_Eng(pszBuffer, "%s\n", buffer3);
// 	
//     PrintBuffer_Eng(pszBuffer, "%.24s\n", gPTStruct.MerchData);
//     PrintBuffer_Eng(pszBuffer, "%.24s\n", gPTStruct.MerchData+24);
//     PrintBuffer_Eng(pszBuffer, "%.24s\n", gPTStruct.MerchData+48);
//     PrintBuffer_Eng(pszBuffer, "%.24s\n", gPTStruct.MerchData+72);
    // ID/NO
	PrintBuffer_Attr(pszBuffer, PRN_DOUBLE_NULL);
    PrintBuffer_Eng(pszBuffer, "  MID:%.*s, ", LG_MERCHID,  lrHDGBuf.MerchId);
    PrintBuffer_Eng(pszBuffer, "SID:%.*s, ",    LG_STORENUM, lrHDGBuf.StoreNum);
    PrintBuffer_Eng(pszBuffer, "PID:%.*s\n",      LG_TERMID,   lrHDGBuf.TermId);
    return STAT_OK;
}

//=================================================================================================
//=================================================================================================
void MaskPan(BYTE *pInPan, int iLen, BYTE *pszOutPanMask)
{
    uint ii,jj;
	BYTE szPan[32] = "";
	
	sprintf(szPan, "%.*s", iLen, pInPan);
	memcpy(pszOutPanMask, szPan, 4);
	pszOutPanMask[4] = 0x20;
	for (ii=5, jj=5; ii<strlen(szPan)-3; ii++)
    {
        pszOutPanMask[jj] = '*';
		jj ++;
		if((ii%4) == 0)
		{
			pszOutPanMask[jj] = 0x20;
			jj++;
		}
    }
	memcpy(&pszOutPanMask[jj], szPan+strlen(szPan)-4, 4);
}

WORD Print_SaleDraft_Slip(void)
{
    WORD Count=0;
    WORD Count1=0;
    BYTE lpTime[13];
    BYTE lWrkBuf[512];
    int ii;
    
    PrintBuffer_Init(sPrnBuffer1, sizeof(sPrnBuffer1));

    PrintBuffer_SelectFont(sPrnBuffer1, 16);
    
    ////////////////////////////////////////////////////////////////////////////////////////////////////////
    //SLIP HEADER//////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Merchant Data

    if (PrnHead(sPrnBuffer1)!=STAT_OK)
    {
        return STAT_NOK;
    }

    //-------------------------------------------------------
    //if (memcmp(gPTStruct.TransType,TYPE_71,2)==0)
    if (1)
    {
        if (gLanguage==ARABIC)
        {
        	PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_HEIGHT|PRN_DOUBLE_ARABIC);
            PrintBuffer_Eng(sPrnBuffer1, "\n");
            PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_CENT, "ÈíÇäÇÊ ÇáÚãáí?");
            PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_NULL);
			PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_CENT, "( ááãÑÇÌÚÉ ÝÞ?)");
            PrintBuffer_Eng(sPrnBuffer1, "\n");
        }
        else
        {
        	PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_HEIGHT|PRN_DOUBLE_WIDTH|PRN_DOUBLE_ENGLISH);
            PrintBuffer_Eng(sPrnBuffer1, "\n    DRAFT TRANSACTION\n");
            PrintBuffer_Eng(sPrnBuffer1, "        DETAILS\n");
        }
    } 
    else
    {
    }

    //DATE - TIME //////////////////////////////////////////////////////////////////////////////////////
    PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_NULL);
    ConvDate(lpTime); //DD-MM-YYYY
    memset(lWrkBuf, 0, sizeof(lWrkBuf));
  /*  if(gLanguage==ARABIC) 
    {
        memcpy(lWrkBuf,gPTStruct.TransTime,2);
        lWrkBuf[2]=':';
        memcpy(lWrkBuf+3,gPTStruct.TransTime+2,2);
        memset(lWrkBuf+5,' ',9);
        memcpy(lWrkBuf+14,lpTime,10);
    }
    else*/
    {
        memcpy(lWrkBuf,lpTime,10);
        memset(lWrkBuf+10,' ',33);
        memcpy(lWrkBuf+43,gPTStruct.TransTime,2);
        lWrkBuf[45]=':';
        memcpy(lWrkBuf+46,gPTStruct.TransTime+2,2);
    }
    PrintBuffer_Eng(sPrnBuffer1, "%s\n\n", (char *)lWrkBuf);
    
    //----------------------------------------------------------------------------
    PrintBuffer_SelectFont(sPrnBuffer1, 24);
    sprintf(lWrkBuf, "%.32s", gPTStruct.name_surname);
    PubTrimHeadChars(lWrkBuf, ' ');
    PubTrimTailChars(lWrkBuf, ' ');
  /*  if (gLanguage==ARABIC)
    {
        PrintBuffer_Eng(sPrnBuffer1, "%48.48s\n", lWrkBuf);
    } 
    else*/
    {
        PrintBuffer_Eng(sPrnBuffer1, "%s\n", lWrkBuf);
    }
    
    //----------------------------------------------------------------------------
    PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_HEIGHT|PRN_DOUBLE_WIDTH|PRN_DOUBLE_ENGLISH);
    PrintBuffer_SelectFont(sPrnBuffer1, 16);
    MaskPan(gPTStruct.Pan, LG_PAN, lWrkBuf);
  /*  if (gLanguage==ARABIC)
    {
        PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_RIGH, "ÊÞÓí?ÑÞ?ÈØÇÞ?");
        PrintBuffer_Eng(sPrnBuffer1, "%.32s\n", lWrkBuf);
    } 
    else*/
    {
        PrintBuffer_Eng(sPrnBuffer1, "%s\n\n", (char *)lWrkBuf);
    }

    //----------------------------------------------------------------------------
   PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_WIDTH|PRN_DOUBLE_ENGLISH);
	for (ii=0; ii<NUM_PRODUCTS_PERTRAN && gPTStruct.product[ii].numbers; ii++)
	{
		if(gLanguage == ARABIC)
		{
			PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_RIGH, " :ÑÞã ÔÑíØ ÇáÊÚÑíÝ");
			PrintBuffer_Eng(sPrnBuffer1, "%s\n\n", gPTStruct.product[ii].barcode);
		}
		else
		{
			PrintBuffer_Eng(sPrnBuffer1, "BARCODE NUMBER:\n");
			PrintBuffer_Eng(sPrnBuffer1, "%24.24s\n\n", gPTStruct.product[ii].barcode);
		}

        memset(lWrkBuf, 0, sizeof(lWrkBuf));
        sprintf(lWrkBuf, "%d", gPTStruct.product[ii].numbers);
    	if (gLanguage==ARABIC)
    	{
			PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_RIGH, " :ÚÏÏ ÇáæÍÏÇÊ");
			PrintBuffer_Eng(sPrnBuffer1, "%s\n\n", lWrkBuf);
    	} 
    	else
   	 	{
        	PrintBuffer_Eng(sPrnBuffer1, "NO. OF ITEMS:\n");
			PrintBuffer_Eng(sPrnBuffer1, "%24.24s\n\n", lWrkBuf);
    	}
            	
    }
    
    //----------------------------------------------------------------------------
    memset(lWrkBuf, 0, sizeof(lWrkBuf));
    FormatAmt(lWrkBuf, gPTStruct.EntryAmount, gCurrencySymbol, ASCII_IN);
    PubTrimHeadChars(lWrkBuf, ' ');
    if (gLanguage==ARABIC)
    {
		PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_RIGH, ":ÊßáÝÉ ÇáÓáÚÉ");
        PrintBuffer_Eng(sPrnBuffer1, "%s\n\n",(char *)lWrkBuf);
    } 
    else
    {
        PrintBuffer_Eng(sPrnBuffer1, "PRICE:\n");
        PrintBuffer_Eng(sPrnBuffer1, "%25.25s\n\n", (char *)lWrkBuf);
    }
    //--------------
    memset(lWrkBuf, 0, sizeof(lWrkBuf));
    FormatAmt(lWrkBuf, gPTStruct.ProfitAmountBcd, gCurrencySymbol, BCD_IN);
    PubTrimHeadChars(lWrkBuf, ' ');
    if (gLanguage==ARABIC)
    {
		PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_RIGH, " :ÇáÃÑÈÇÍ");
		PrintBuffer_Eng(sPrnBuffer1, "%s\n\n", (char *)lWrkBuf);
	} 
    else
    {
        PrintBuffer_Eng(sPrnBuffer1, "PROFIT:\n");
        PrintBuffer_Eng(sPrnBuffer1, "%25.25s\n\n", (char *)lWrkBuf);
    }
    //--------------
    memset(lWrkBuf, 0, sizeof(lWrkBuf));
    FormatAmt(lWrkBuf, gPTStruct.TotalAmount, gCurrencySymbol, ASCII_IN);
    PubTrimHeadChars(lWrkBuf, ' ');
    if (gLanguage==ARABIC)
    {
		PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_RIGH, " :ÇÇáãÌãæÚ Çáßáí");
		PrintBuffer_Eng(sPrnBuffer1, "%s\n\n", (char *)lWrkBuf);
	} 
    else
    {
        PrintBuffer_Eng(sPrnBuffer1, "TOTAL PRICE:\n");
        PrintBuffer_Eng(sPrnBuffer1, "%25.25s\n\n", (char *)lWrkBuf);
    }
    //--------------
    
    if (gLanguage==ARABIC)
    {
    	PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_HEIGHT|PRN_DOUBLE_ARABIC);
        PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_CENT, "ÈíÇäÇÊ ÇáÓÏÇÏ");//ÈíÇäÇÊ ÇáÓÏÇÏ
    } 
    else
    {
    	PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_HEIGHT|PRN_DOUBLE_WIDTH|PRN_DOUBLE_ENGLISH);
        PrintBuffer_Eng(sPrnBuffer1, "REPAYMENT DETAILS:\n\n");
    }
    //--------------
    
    sprintf((char *)lWrkBuf, "%d MONTHS", gPTStruct.TotalInstallmentCount);
	PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_WIDTH|PRN_DOUBLE_ENGLISH);
    if (gLanguage==ARABIC)
    {
		PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_RIGH, " :ãÏÉ ÇáÊãæíá");
		PrintBuffer_Eng(sPrnBuffer1, "%s\n\n", (char *)lWrkBuf);
	} 
    else
    {	
        PrintBuffer_Eng(sPrnBuffer1, "TENURE:%17.17s\n\n", (char *)lWrkBuf);
    }
    //--------------
    memset(lWrkBuf, 0, sizeof(lWrkBuf));
    FormatAmt(lWrkBuf, gPTStruct.MonthlyInstAmount, gCurrencySymbol, ASCII_IN);
    PubTrimHeadChars(lWrkBuf, ' ');
    if (gLanguage==ARABIC)
    {
		PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_RIGH, ":ÇáÞÓØ ÇáÔåÑí");
		PrintBuffer_Eng(sPrnBuffer1, "%s\n\n", (char *)lWrkBuf);
	} 
    else
    {
    	PrintBuffer_Eng(sPrnBuffer1, "INSTALLMENT:\n");
        PrintBuffer_Eng(sPrnBuffer1, "%25.25s\n", (char *)lWrkBuf);
        
    }
    
    //-------------------------------------------------------------
/*	PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_NULL);
    PrintBuffer_Eng(sPrnBuffer1, "\n\n");
    if (gLanguage==ARABIC)
    {
        PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_RIGH, "ÔßÑÇ?áÇÓÊÎÏÇãßã ÈØÇÞ?ÊÞÓí?");
        PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_RIGH, "ãä Èä?ÇáÈÑßÉ ÇáÅÓáÇãí");
    } 
    else
    {
        PrintBuffer_Eng(sPrnBuffer1, "THANK YOU FOR USING Selektpay-NEC CARD\n");
    }
*/
    PrintBuffer_Eng(sPrnBuffer1, "\n\n\n\n\n\n\n\n");
    PrintBuffer_Eng(sPrnBuffer1, "\n\n");
    PrnInit();
    PrintBuffer_SendToPrinter(sPrnBuffer1);
    return StartPrinter();
}

//=================================================================================================
//=================================================================================================


WORD Prepare_Print_SaleOrPaymentSlip(BYTE PrintMerhantCopy)
{
    WORD Count=0;
    WORD Count1=0;
    BYTE lpTime[13];
    BYTE lWrkBuf[512];
    WORD Len=0;
    WORD lwStatus1,lwStatus2,lwStatus3;
    int ii, len;
    
    memset(sPrnBuffer1, 0, sizeof(sPrnBuffer1));
    memset(sPrnBuffer2, 0, sizeof(sPrnBuffer2));
    memset(sPrnBuffer3, 0, sizeof(sPrnBuffer3));

    PrintBuffer_SelectFont(sPrnBuffer1, 16);
    
    ////////////////////////////////////////////////////////////////////////////////////////////////////////
    //SLIP HEADER//////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Merchant Data
    if (PrnHead(sPrnBuffer1)!=STAT_OK)
    {
        return STAT_NOK;
    }

    //-------------------------------------------------------
    PrintBuffer_SelectFont(sPrnBuffer1, 16);
	sprintf((char *)lWrkBuf, "%.*s", LG_SEQNUM, gPTStruct.SeqNum);
	PrintBuffer_Eng(sPrnBuffer1, "      TXN. NO.:%s, ", lWrkBuf);
	if (memcmp(gPTStruct.TransType,TYPE_70,2)!=0)
		sprintf((char *)lWrkBuf, "%12s", gPTStruct.RetrivalRef);
	else
		sprintf((char *)lWrkBuf, "%12s", gPTStruct.RefNumber);

	lWrkBuf[12] = 0;
	PrintBuffer_Eng(sPrnBuffer1, "REF. NO.:%s\n\n", lWrkBuf);

    //if (memcmp(gPTStruct.TransType,TYPE_71,2)==0)
    if (memcmp(gPTStruct.TransType,TYPE_70,2)==0)
    {
        // Sale/Installment
        if (gLanguage==ARABIC)
        {
        	PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_HEIGHT|PRN_DOUBLE_ARABIC);
            PrintBuffer_Eng(sPrnBuffer1, "\n");
            PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_CENT, "ÚÞ?Èí?ÈÇáãÑÇÈÍ?");
			PrintBuffer_Eng(sPrnBuffer1, "\n");
        }
        else
        {
        	PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_HEIGHT|PRN_DOUBLE_WIDTH|PRN_DOUBLE_ENGLISH);
            //PrintBuffer_Eng(sPrnBuffer1, "\n MURABAHA SALE CONTRACT\n\n");
			PrintBuffer_Eng(sPrnBuffer1, "\n     WITHDRAW/DEBIT    \n\n");//modify by lqc 20150619
        }
    }
    else if (memcmp(gPTStruct.TransType,TYPE_72,2)==0)
    {
        // Payment
        if (gLanguage==ARABIC)
        {
			PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_HEIGHT|PRN_DOUBLE_ARABIC);
            PrintBuffer_Eng(sPrnBuffer1, "\n");
            PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_CENT, "ÅíÕÇ?ÇáÏÝ?áÈØÇÞÉ ÊÞÓí?");
            PrintBuffer_Eng(sPrnBuffer1, "\n");
        }
        else
        {
			PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_HEIGHT|PRN_DOUBLE_WIDTH|PRN_DOUBLE_ENGLISH);
            PrintBuffer_Eng(sPrnBuffer1, "\nDEPOSIT/CREDIT RECEIPT\n\n");//modify by lqc 20150619
           // PrintBuffer_Eng(sPrnBuffer1, "        RECEIPT\n\n");
        }
    }
    else
    {
    }
    
    //DATE - TIME
    //----------------------------------------------------------------------------
    PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_NULL);
    ConvDate(lpTime); //DD-MM-YYYY
    memset(lWrkBuf, 0, sizeof(lWrkBuf));
   /* if(gLanguage==ARABIC) 
    {
        memcpy(lWrkBuf,gPTStruct.TransTime,2);
        lWrkBuf[2]=':';
        memcpy(lWrkBuf+3,gPTStruct.TransTime+2,2);
        memset(lWrkBuf+5,' ',9);
        memcpy(lWrkBuf+14,lpTime,10);
    }
    else*/
    {
        memcpy(lWrkBuf,lpTime,10);
        memset(lWrkBuf+10,' ',33);
        memcpy(lWrkBuf+43,gPTStruct.TransTime,2);
        lWrkBuf[45]=':';
        memcpy(lWrkBuf+46,gPTStruct.TransTime+2,2);
    }
    PrintBuffer_Eng(sPrnBuffer1, "%s\n\n", (char *)lWrkBuf);

    //----------------------------------------------------------------------------
	PrintBuffer_SelectFont(sPrnBuffer1, 24);
	PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_NULL);
    if (memcmp(gPTStruct.TransType,TYPE_70,2)==0)
    {
		//modify by lqc 20150619
        // Sale/Installment
   //     if (gLanguage==ARABIC)
   //     {
   //         PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_RIGH, "ÍÑ?åÐ?ÇáÚÞ?Èí?ßá ãä:");
   //         PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_RIGH, "ÇáÈä?(ÇáÈÇÆÚ):");
   //         strcpy(lWrkBuf, "Èä?ÇáÈÑßÉ ÇáÅÓáÇãí  ???)?");
   //         len = StrLen(lWrkBuf);
   //         lWrkBuf[len-3] = '(';
   //         lWrkBuf[len-1] = ')';
   //         PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_RIGH, (char *)lWrkBuf);
			//PrintBuffer_Eng(sPrnBuffer1, "\n\n");
   //     } 
   //     else
   //     {
   //         PrintBuffer_Eng(sPrnBuffer1, "THIS CONTRACT IS MADE BETWEEN:\n");
   //         PrintBuffer_Eng(sPrnBuffer1, "THE BANK(SELLER):\n\n");
			//PrintBuffer_Eng(sPrnBuffer1, "ALBARAKA ISLAMIC BANK,B.S.C.(C)\n\n");
   //     }
    
        sprintf(lWrkBuf, "%.32s", gPTStruct.name_surname);
        PubTrimHeadChars(lWrkBuf, ' ');
        PubTrimTailChars(lWrkBuf, ' ');
        if (gLanguage==ARABIC)
        {
			PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_RIGH, " :(ÍÇãá ÇáÈØÇÞÉ (ÇáãÔÊÑí");
            PrintBuffer_Eng(sPrnBuffer1, "%.32s\n", lWrkBuf);
        } 
        else
        {
            //PrintBuffer_Eng(sPrnBuffer1, "CARDHOLDER(BUYER):\n\n");
			PrintBuffer_Eng(sPrnBuffer1, "CARDHOLDER:\n\n");//modify by lqc 20150619
			PrintBuffer_Eng(sPrnBuffer1, "%s\n", lWrkBuf);
        }
    }
    else
    {
        sprintf(lWrkBuf, "%.32s", gPTStruct.name_surname);
        PubTrimHeadChars(lWrkBuf, ' ');
        PubTrimTailChars(lWrkBuf, ' ');
        PrintBuffer_Eng(sPrnBuffer1, "%s\n", lWrkBuf);
    }
    
    //----------------------------------------------------------------------------
    MaskPan(gPTStruct.Pan, LG_PAN, lWrkBuf);
	PrintBuffer_SelectFont(sPrnBuffer1, 16);
    PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_HEIGHT|PRN_DOUBLE_WIDTH|PRN_DOUBLE_ENGLISH);
    PrintBuffer_Eng(sPrnBuffer1, "%.32s\n\n", (char *)lWrkBuf);

	PrintBuffer_SelectFont(sPrnBuffer1, 24);
	PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_NULL);
    if (memcmp(gPTStruct.TransType,TYPE_70,2)==0)
    {

    	PrintBuffer_SelectFont(sPrnBuffer1, 16);
    	PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_WIDTH|PRN_DOUBLE_ENGLISH);

        memset(lWrkBuf, 0, sizeof(lWrkBuf));
        FormatAmt(lWrkBuf, gPTStruct.EntryAmount, gCurrencySymbol, ASCII_IN);
        PubTrimHeadChars(lWrkBuf, ' ');
        if (gLanguage==ARABIC)
        {
			PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_RIGH, ":ÊßáÝÉ ÇáÓáÚÉ");
    		PrintBuffer_Eng(sPrnBuffer1, "%s\n\n", (char *)lWrkBuf);
    	} 
        else
        {
            //PrintBuffer_Eng(sPrnBuffer1, "PRICE:\n");Withdrawn / Debited Amount:
    		PrintBuffer_Eng(sPrnBuffer1, "WITHDRAW/DEBITED AMOUNT:\n");//modify by lqc 20150619
    		PrintBuffer_Eng(sPrnBuffer1, "%25.25s\n\n", (char *)lWrkBuf);
        }

    }
    else
    {
        memset(lWrkBuf, 0, sizeof(lWrkBuf));
        FormatAmt(lWrkBuf, gPTStruct.TotalAmount, gCurrencySymbol, ASCII_IN);
        PubTrimHeadChars(lWrkBuf, ' ');
        PrintBuffer_SelectFont(sPrnBuffer1, 16);
        PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_WIDTH);
        if (gLanguage==ARABIC)
        {
            PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_RIGH, "ÇáãÈáÛ ÇáãÏÝæ?:");
			PrintBuffer_Eng(sPrnBuffer1, "\n%s\n\n", (char *)lWrkBuf);
        } 
        else
        {
            PrintBuffer_Eng(sPrnBuffer1, "AMOUNT DEPOSITED:\n");//modify by lqc 20150619
            PrintBuffer_Eng(sPrnBuffer1, "%25.25s\n\n", (char *)lWrkBuf);
        }
		PrintBuffer_Eng(sPrnBuffer1, "\n");
    }

	PrintBuffer_SelectFont(sPrnBuffer1, 16);
    PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_ENGLISH);
    if (memcmp(gPTStruct.TransType,TYPE_70,2)==0)
    {
        // Sale/Installment
        PrintBuffer_Step(sPrnBuffer1, 96);
        if (gLanguage==ARABIC)
        {
             PrintBuffer_Eng(sPrnBuffer1, "    ________________________________________    \n");
            PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_CENT, " (ÊæÞíÚ ÍÇãá ÇáÈØÇÞÉ (ÇáãÔÊÑí");
        } 
        else
        { 
            PrintBuffer_Eng(sPrnBuffer1, "    ________________________________________    \n");
            PrintBuffer_Eng(sPrnBuffer1, "          CARDHOLER (BUYER) SIGNATURE           \n");
        }
    }

    // delete many old codes here
    
    //////FOOTER///////////////////////////////////////////////////////////////
    if (memcmp(gPTStruct.TransType,TYPE_70,2)==0)
    {
        //GOODS RECEIVED        //PRT_GOODS_RECEIVED

        //EMPTY

        //SIGNATURE

        //EMPTY

        //THANK YOU
    }
    else if( (memcmp(gPTStruct.TransType,TYPE_71,2)==0)||
        (memcmp(gPTStruct.TransType,TYPE_72,2)==0))
    {
        //SPACE

        //MESSAGE-1
        if( memcmp(gPTStruct.TransType,TYPE_71,2)==0)
        {
            //PRT_GOODS_RECEIVED_LOYALTY
        }
        else if( memcmp(gPTStruct.TransType,TYPE_72,2)==0)
        {
            // PRT_GOODS_RECEIVED_PAYMENT
        }
        
        //EMPTY

        //MESSAGE-2     //PRT_GOODS_RECEIVED_FOOTER

        //EMPTY
    }
    else
    {
        // ????
    }

//    PrintBuffer_Eng(sPrnBuffer1, "\n");
	PrintBuffer_SelectFont(sPrnBuffer1, 16);
	PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_NULL);
    // If not sale, only need one page
    if (memcmp(gPTStruct.TransType,TYPE_70,2)!=0)
	{
        if (gLanguage==ARABIC)
        {
            PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_CENT, "ÔßÑÇ?áÇÓÊÎÏÇãßã ÈØÇÞ?ÊÞÓí?ãä Èä?ÇáÈÑßÉ ÇáÅÓáÇãí");
        } 
        else
        {
            PrintBuffer_Eng(sPrnBuffer1, "   THANK YOU FOR USING Selektpay-NEC CARD\n");
        }    

	
        PrintBuffer_Eng(sPrnBuffer1, "\n\n\n\n\n\n\n");

        ///////////////////////////////////////////////////////////////////////////
        ///WRITE FILE    
        lwStatus1 = TransSlipWriteFile(sPrnBuffer1, FILE_R1);
        lwStatus2 = TransSlipWriteFile("", FILE_R2);
		lwStatus3 = TransSlipWriteFile("", FILE_R3);
        if ((lwStatus1 != STAT_OK)&&
            (lwStatus2 != STAT_OK)&&
			(lwStatus3 != STAT_OK))      
	    {
		    return ( STAT_NOK );
	    }

        ///////////////////////////////////////////////////////////////////////////
        ///PRINT FROM FILE
        PrintTransSlip(OS_FALSE);


		if (memcmp(gPTStruct.TransType,TYPE_72,2)==0)
		{
			if (KeyBoardValid("",(PCHAR)"SECOND CPY PRN","",(PCHAR)DSP_K_NO,"",(PCHAR)DSP_K_YES,
				KEYB_CANCEL_MASK|KEYB_VAL_MASK, 30)== KEYCANCEL)
			{
				return STAT_OK;
			}
			PrintTransSlip(OS_FALSE);
		}
    
        return(STAT_OK);
    }
    else
    {
        // Copy to the 2nd slip
        strcpy(sPrnBuffer2, sPrnBuffer1);
        //strcpy(sPrnBuffer3, sPrnBuffer1);
    
        if (memcmp(gPTStruct.TransType,TYPE_70,2)==0)
        {
            // Sale/Installment
        }
        else
        {
        }

        if (gLanguage==ARABIC)
        {
             PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_CENT, "äÓÎÉ ÇáÈä?");
            PrintBuffer_Eng(sPrnBuffer1, "\n");
            PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_CENT, "ÔßÑÇ?áÇÓÊÎÏÇãßã ÈØÇÞ?ÊÞÓí?ãä Èä?ÇáÈÑßÉ ÇáÅÓáÇãí");
        
            PrintBuffer_Arabic(sPrnBuffer2, PRN_ACT_ARABIC_CENT, "äÓÎÉ ÇáÚãíá");
            PrintBuffer_Eng(sPrnBuffer2, "\n");
            PrintBuffer_Arabic(sPrnBuffer2, PRN_ACT_ARABIC_CENT, "ÔßÑÇ?áÇÓÊÎÏÇãßã ÈØÇÞ?ÊÞÓí?ãä Èä?ÇáÈÑßÉ ÇáÅÓáÇãí");

			PrintBuffer_Arabic(sPrnBuffer3, PRN_ACT_ARABIC_CENT, "äÓÎÉ ÇáÊÇÌÑ");
			PrintBuffer_Eng(sPrnBuffer3, "\n");
			PrintBuffer_Arabic(sPrnBuffer3, PRN_ACT_ARABIC_RIGH, "ÔßÑÇ?áÇÓÊÎÏÇãßã ÈØÇÞ?ÊÞÓí?ãä Èä?ÇáÈÑßÉ ÇáÅÓáÇãí");
        } 
        else
        {
            //PrintBuffer_Eng(sPrnBuffer1, "             <<    BANK COPY    >>              \n\n");
            //PrintBuffer_Eng(sPrnBuffer1, "   THANK YOU FOR USING Selektpay-NEC CARD\n");

            PrintBuffer_Eng(sPrnBuffer1, "           <<    CUSTOMER COPY    >>            \n\n");
            PrintBuffer_SelectFont(sPrnBuffer1, 16);
            PrintBuffer_Eng(sPrnBuffer1, "   THANK YOU FOR USING Selektpay-NEC CARD\n");
            PrintBuffer_SelectFont(sPrnBuffer1, 24);

			PrintBuffer_Eng(sPrnBuffer2, "           <<    MERCHANT COPY    >>            \n\n");
			PrintBuffer_SelectFont(sPrnBuffer2, 16);
			PrintBuffer_Eng(sPrnBuffer2, "   THANK YOU FOR USING Selektpay-NEC CARD\n");
			PrintBuffer_SelectFont(sPrnBuffer2, 24);
        }    

        PrintBuffer_Eng(sPrnBuffer1, "\n\n\n\n\n\n\n");
        PrintBuffer_Eng(sPrnBuffer2, "\n\n\n\n\n\n\n");
		//PrintBuffer_Eng(sPrnBuffer3, "\n\n\n\n\n\n\n");

        ///////////////////////////////////////////////////////////////////////////
        ///WRITE FILE
    
        lwStatus1 = TransSlipWriteFile(sPrnBuffer1, FILE_R1);
        lwStatus2 = TransSlipWriteFile(sPrnBuffer2, FILE_R2);
		//lwStatus3 = TransSlipWriteFile(sPrnBuffer3, FILE_R3);
        if ((lwStatus1 != STAT_OK)&&
            (lwStatus2 != STAT_OK))      
	    {
		    return ( STAT_NOK );
	    }

        ///////////////////////////////////////////////////////////////////////////
        ///PRINT FROM FILE
        PrintTransSlip(PrintMerhantCopy);
    
        return(STAT_OK);
    }
}


WORD Print_Balance_Slip(char *pszBalance)
{
    BYTE    buff1[128], buff2[128];
    int     i;
    int  NumBytes;               //add by richard 
    int withDrawCnt=0, depositCnt=0, transfeeCnt=0;
    char bcdAmount[LG_AMOUNT/2], totalAmount[LG_AMOUNT], lbFormatedAmount[17];
    //PTStruct lrTransBuf;
    long tempAmount=0, totalWithdraw=0, totalDiposit=0, totalTransfee=0;
    //char totalWithdraw[LG_AMOUNT], totalDiposit[LG_AMOUNT];

    memset(sPrnBuffer1, 0, sizeof(sPrnBuffer1));

    OS_ClearScreen();

    PrintBuffer_SelectFont(sPrnBuffer1, 16);
    
    if (PrnHead(sPrnBuffer1)!=STAT_OK)
    {
        return STAT_NOK;
    }

    
    PrintBuffer_Eng(sPrnBuffer1, "\n");
	if(gLanguage==ARABIC)
	{
		PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_HEIGHT|PRN_DOUBLE_ARABIC);
		PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_CENT, "ÑÕíÏ ÈØÇÞÉ ÊÓåíá");
	}
	else
	{
		PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_HEIGHT|PRN_DOUBLE_WIDTH|PRN_DOUBLE_ENGLISH);
		PrintBuffer_Eng(sPrnBuffer1, PRT_BALANCE_LIST_MSG);
	}
	
	PrintBuffer_Eng(sPrnBuffer1, "\n\n");
    PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_NULL);
    // "DD/MM/YYYY         hh:mm"
	GetTime(buff1);
	sprintf(buff2, "%02X/%02X/20%02X                                 %02X:%02X\n\n",
			buff1[2], buff1[1], buff1[0], buff1[3], buff1[4]);
    PrintBuffer_Eng(sPrnBuffer1, buff2);

 //----------------------------------------------------------------------------
    PrintBuffer_SelectFont(sPrnBuffer1, 24);
    sprintf(buff2, "%.32s", gPTStruct.name_surname);
    PubTrimHeadChars(buff2, ' ');
    PubTrimTailChars(buff2, ' ');
/*    if (gLanguage==ARABIC)
    {
        PrintBuffer_Eng(sPrnBuffer1, "%48.48s\n", buff2);
    } 
    else*/
    {
        PrintBuffer_Eng(sPrnBuffer1, "%s\n", buff2);
    }

    PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_HEIGHT|PRN_DOUBLE_WIDTH|PRN_DOUBLE_ENGLISH);
    PrintBuffer_SelectFont(sPrnBuffer1, 16);
    MaskPan(gPTStruct.Pan, LG_PAN, buff2);
    PrintBuffer_Eng(sPrnBuffer1, "%s\n\n", (char *)buff2);

    PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_WIDTH|PRN_DOUBLE_ENGLISH);
	if(gLanguage == ARABIC)
	{
		PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_RIGH, "ÇáÍÏ ÇáÔåÑí ÇáãÊÈÞ?");
		PrintBuffer_Eng(sPrnBuffer1, "%s\n\n", pszBalance);
	}
	else
	{
		//PrintBuffer_Eng(sPrnBuffer1, "MAX. AVAILABLE BALANCE:\n");
		PrintBuffer_Eng(sPrnBuffer1, "ACCOUNT BALANCE:");//modify by lqc 20150619
		PrintBuffer_Eng(sPrnBuffer1, "%25.25s\n\n", pszBalance);
	}
	//PrintBuffer_Eng(sPrnBuffer1, "\n");

//---------------------Add the Mini Statement section - by richard-------------------------
    PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_NULL);
    PrintBuffer_SelectFont(sPrnBuffer1, 16);
    PrintBuffer_Eng(sPrnBuffer1, "                MINI STATEMENT              \n\n");

/*    //test add translation to file
    memset(&mst_info[0], 0, sizeof(MST_INFO));
    mst_info[0].transType = 0x01;
    strcpy(mst_info[0].transAmount, "000003432111");
    strcpy(mst_info[0].transDate, "20150716");

    memset(&mst_info[1], 0, sizeof(MST_INFO));
    mst_info[1].transType = 0x02;
    strcpy(mst_info[1].transAmount, "000000000011");
    strcpy(mst_info[1].transDate, "20110224");*/
    
    //read 5 translation record
    for(i=0; i<5; i++)
    {
        if((mst_info[i].transType == 0x01) || (mst_info[i].transType == 0x02) || (mst_info[i].transType == 0x03))
        {
            sprintf((char *)buff1, "%.*d", LG_SEQNUM, (i+1));
            PrintBuffer_Eng(sPrnBuffer1, "%s", (char *)buff1);

            if(mst_info[i].transType == 0x01)
            {
                depositCnt++;
                PubAsc2Long(mst_info[i].transAmount, sizeof(mst_info[i].transAmount), &tempAmount);
                totalDiposit += tempAmount;
                sprintf((char *)buff1, "-DEPOSIT -"); 
            }
            else if(mst_info[i].transType == 0x02)
            {
                withDrawCnt++;
                PubAsc2Long(mst_info[i].transAmount, sizeof(mst_info[i].transAmount), &tempAmount);
                totalWithdraw += tempAmount; 
                sprintf((char *)buff1, "-WITHDRAW-");
            }
            else
            {
                transfeeCnt++;
                PubAsc2Long(mst_info[i].transAmount, sizeof(mst_info[i].transAmount), &tempAmount);
                totalTransfee += tempAmount; 
                sprintf((char *)buff1, "-TRANSFEE-");
            }
            
            PrintBuffer_Eng(sPrnBuffer1, "%s", (char *)buff1);  

            memset(buff1, 0, sizeof(buff1));
            sprintf(buff1, "%c%c/%c%c/%c%c-%c%c:%c%c",mst_info[i].transDate[6],
            mst_info[i].transDate[7],mst_info[i].transDate[4],mst_info[i].transDate[5],
            mst_info[i].transDate[2],mst_info[i].transDate[3], mst_info[i].transTime[0],
            mst_info[i].transTime[1], mst_info[i].transTime[2], mst_info[i].transTime[3]);      
            PrintBuffer_Eng(sPrnBuffer1, "%s\n", (char *)buff1);

            memset(lbFormatedAmount,' ',17);
            AmountSeparation(mst_info[i].transAmount, lbFormatedAmount);
            PrintBuffer_Eng(sPrnBuffer1, lbFormatedAmount);
            PrintBuffer_Eng(sPrnBuffer1, "\n\n");
       }
       else 
       {
          break;
       }
    }

    memset(mst_info, 0, sizeof(mst_info));//clear mini-statement information
    sprintf(buff1, "================================================");
    PrintBuffer_Eng(sPrnBuffer1, "%s\n", (char *)buff1);

    //total withdraw
    memset(totalAmount, 0, LG_AMOUNT);
    memset(lbFormatedAmount,' ',17);
    itoa(totalWithdraw, totalAmount, 10);
    //PubLong2Char(totalWithdraw, LG_AMOUNT, totalAmount);
    //PubLong2Bcd(totalWithdraw, LG_AMOUNT, bcdAmount);
    //PubBcd2Asc(bcdAmount, LG_AMOUNT, totalAmount);
    AmountSeparation(totalAmount, lbFormatedAmount);
    sprintf(buff1, "WITHDRAW:   %04d\n%s", withDrawCnt, lbFormatedAmount);
    PrintBuffer_Eng(sPrnBuffer1, "%s\n\n", (char *)buff1);

    //total deposit
    memset(totalAmount, 0, LG_AMOUNT);
    memset(lbFormatedAmount,' ',17);
    itoa(totalDiposit, totalAmount, 10);
    AmountSeparation(totalAmount, lbFormatedAmount);
    sprintf(buff1, "DEPOSIT:    %04d\n%s", depositCnt, lbFormatedAmount);
    PrintBuffer_Eng(sPrnBuffer1, "%s\n\n", (char *)buff1);      

    //total transfee
    memset(totalAmount, 0, LG_AMOUNT);
    memset(lbFormatedAmount,' ',17);
    itoa(totalTransfee, totalAmount, 10);
    AmountSeparation(totalAmount, lbFormatedAmount);
    sprintf(buff1, "TRANSFEE:   %04d\n%s", transfeeCnt, lbFormatedAmount);
    PrintBuffer_Eng(sPrnBuffer1, "%s\n\n", (char *)buff1); 

    PrintBuffer_Eng(sPrnBuffer1, "               END OF STATEMENT                \n");

//---------------------Add the Mini Statement section - by richard-------------------------    

    PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_NULL);
	if(gLanguage == ARABIC)
	{
		PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_CENT, "ÔßÑÇ?áÇÓÊÎÏÇãßã ÈØÇÞ?ÊÞÓí?ãä Èä?ÇáÈÑßÉ ÇáÅÓáÇãí");
	}
	else
	{
		PrintBuffer_Eng(sPrnBuffer1, "   THANK YOU FOR USING Selektpay-NEC CARD\n");
    }
	
	PrintBuffer_Eng(sPrnBuffer1, "\n\n\n\n\n\n\n");
    PrintBuffer_Eng(sPrnBuffer1, "\n\n");
	PrnInit();
    PrintBuffer_SendToPrinter(sPrnBuffer1);
    return StartPrinter();
}

static WORD TransSlipWriteFile(BYTE *fbaR1Buf, BYTE *csFILE)
{
    int	fpHandler;
    WORD  Count;
    if ( FileInit(csFILE) == STAT_INIT_OK )
    {
        fpHandler = Open(csFILE, O_RDWR);
        if ( fpHandler >= 0 )
        {
            Count = StrLen(fbaR1Buf)+1;
            if (Write( fpHandler, (BYTE *)fbaR1Buf, Count)==0)
			{
				return (STAT_OK);
			}
        }
    }
    return( STAT_INV );
}

WORD PrintTransSlip(BYTE PrintMerhantCopy)
{
    WORD lwStatus;

    lwStatus = Print_PAX_Slip(OS_FALSE, FILE_R1);
    if ( lwStatus == STAT_OK )
    {
        if(PrintMerhantCopy==OS_TRUE)
        {
            if(gOperationFlagsSmart2 & SC_SECOND_COPY_PRINT)
            {
                DelayMs(3000);
            }
            else
            {
               if (KeyBoardValid("",(PCHAR)DSP_THIRD_COPY_PRINT,"",(PCHAR)DSP_K_NO,"",(PCHAR)DSP_K_YES,
                                    KEYB_CANCEL_MASK|KEYB_VAL_MASK, 30)== KEYCANCEL)
                {
                    return(STAT_OK);
                }
            }

            lwStatus = Print_PAX_Slip(OS_FALSE, FILE_R2);
		}
    }
    else if ( lwStatus == STAT_NOK )
    {
        DisplayString(DSP_NO_TRANSACTION,3000);
    }
    else if ( lwStatus == STAT_NO_PAPER )
    {
        DisplayString(DSP_PRINTER_ERROR,3000);
        DisplayString(DSP_NO_PAPER,3000);
        lwStatus = STAT_OK;
    }

    return( lwStatus );
}

// STAT_OK / STAT_NOK / STAT_NO_PAPER
WORD Print_PAX_Slip(WORD fwRePrint, BYTE *fpFileName)
{
    int  fpHandler;
    int  lwStatus;
    int  Count=0, ii=0;

    HDGStruct lsHDGBuf;     //add by Allen 20151116
    HDGRead(&lsHDGBuf);   
	
    fpHandler = Open(fpFileName, O_RDWR);
    if (fpHandler<0)
    {
        DisplayString(DSP_FILE_EMPTY, 2000);
        return STAT_NOK;
    }

	if (0 == strcmp(fpFileName, FILE_RB))     // add by Allen 20151116
	{
		lsHDGBuf.bLastPrint = 1;
	}
	else 
	{
		lsHDGBuf.bLastPrint = 0;
	}
	HDGWrite(&lsHDGBuf);           // end 

    memset(sPrnBufferTemp, 0, sizeof(sPrnBufferTemp));
    lwStatus = Read(fpHandler, sPrnBufferTemp, LG_RBFILE);
    if (lwStatus<=0)
    {
        DisplayString(DSP_FILE_EMPTY, 2000);
        return STAT_NOK;
    }

    Count = StrLen(sPrnBufferTemp);
    if ((Count==0) || (sPrnBufferTemp[0]==0))
    {
        DisplayString(DSP_FILE_EMPTY, 2000);
        return STAT_NOK;
    }

    PrnInit();
    if ( fwRePrint )      // if it is a reprinting, prints 'DUPLICATE' to the first line
    {
		PrnStr("       ");
		PrnStr(PRT_REPRINT);
		PrnStr("\n");
    }

    PrintBuffer_SendToPrinter(sPrnBufferTemp);
    return StartPrinter();
}

//by jarod 2011.06.01
WORD Print_HostErr_Slip(BYTE* Errmsg)
{
	char    buff1[128], buff2[128];
	int     ii;

	memset(sPrnBuffer1, 0, sizeof(sPrnBuffer1));

	OS_ClearScreen();

	PrintBuffer_SelectFont(sPrnBuffer1, 16);

	if (PrnHead(sPrnBuffer1)!=STAT_OK)
	{
		return STAT_NOK;
	}

    
    PrintBuffer_Eng(sPrnBuffer1, "\n");
	if(gLanguage==ARABIC)
	{
		PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_HEIGHT|PRN_DOUBLE_ARABIC);
//		PrintBuffer_Arabic(sPrnBuffer1, PRN_ACT_ARABIC_CENT, "ÑÕíÏ ÈØÇÞ?ÊÞÓí?");
	}
	else
	{
		PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_HEIGHT|PRN_DOUBLE_WIDTH|PRN_DOUBLE_ENGLISH);
//		PrintBuffer_Eng(sPrnBuffer1, PRT_BALANCE_LIST_MSG);
	}
	
//	PrintBuffer_Eng(sPrnBuffer1, "\n\n");
    PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_NULL);
	// "DD/MM/YYYY         hh:mm"
	GetTime(buff1);
	sprintf(buff2, "%02X/%02X/20%02X                                 %02X:%02X\n\n",
		buff1[2], buff1[1], buff1[0], buff1[3], buff1[4]);
	PrintBuffer_Eng(sPrnBuffer1, buff2);

	//----------------------------------------------------------------------------
	PrintBuffer_SelectFont(sPrnBuffer1, 24);
	sprintf(buff2, "%.32s", gPTStruct.name_surname);
	PubTrimHeadChars(buff2, ' ');
	PubTrimTailChars(buff2, ' ');

	PrintBuffer_Eng(sPrnBuffer1, "%s\n", buff2);


	PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_HEIGHT|PRN_DOUBLE_WIDTH|PRN_DOUBLE_ENGLISH);
	PrintBuffer_SelectFont(sPrnBuffer1, 16);
	MaskPan(gPTStruct.Pan, LG_PAN, buff2);
	PrintBuffer_Eng(sPrnBuffer1, "%s\n\n", (char *)buff2);

	PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_WIDTH|PRN_DOUBLE_ENGLISH);

	//err information

	PrintBuffer_Eng(sPrnBuffer1, Errmsg);
	PrintBuffer_Eng(sPrnBuffer1, "\n\n");

	PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_NULL);

	PrintBuffer_Eng(sPrnBuffer1, "   THANK YOU FOR USING Selektpay-NEC CARD\n");

	PrintBuffer_Eng(sPrnBuffer1, "\n\n\n\n\n\n\n");
	PrintBuffer_Eng(sPrnBuffer1, "\n\n");
	PrnInit();
	PrintBuffer_SendToPrinter(sPrnBuffer1);
	return StartPrinter();
}

//by jarod 2011.06.22
WORD Print_TenureOption_Slip(BYTE ItemCount,const BYTE* MenuItems[])
{
	char    buff1[128], buff2[128];
	BYTE	lWrkBuf[512];
	int     i,ii;

	memset(sPrnBuffer1, 0, sizeof(sPrnBuffer1));

	OS_ClearScreen();

	PrintBuffer_SelectFont(sPrnBuffer1, 16);

	if (PrnHead(sPrnBuffer1)!=STAT_OK)
	{
		return STAT_NOK;
	}
	PrintBuffer_Eng(sPrnBuffer1, "\n");

	PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_HEIGHT|PRN_DOUBLE_WIDTH|PRN_DOUBLE_ENGLISH);
	PrintBuffer_Eng(sPrnBuffer1, "TENURE OPTIONS\n");

	PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_HEIGHT|PRN_DOUBLE_WIDTH|PRN_DOUBLE_ENGLISH);

	//	PrintBuffer_Eng(sPrnBuffer1, "\n\n");
	PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_NULL);
	// "DD/MM/YYYY         hh:mm"
	GetTime(buff1);
	sprintf(buff2, "%02X/%02X/20%02X                                 %02X:%02X\n\n",
		buff1[2], buff1[1], buff1[0], buff1[3], buff1[4]);
	PrintBuffer_Eng(sPrnBuffer1, buff2);

	//----------------------------------------------------------------------------
	PrintBuffer_SelectFont(sPrnBuffer1, 24);
	sprintf(buff2, "%.32s", gPTStruct.name_surname);
	PubTrimHeadChars(buff2, ' ');
	PubTrimTailChars(buff2, ' ');

	PrintBuffer_Eng(sPrnBuffer1, "%s\n", buff2);


	PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_HEIGHT|PRN_DOUBLE_WIDTH|PRN_DOUBLE_ENGLISH);
	PrintBuffer_SelectFont(sPrnBuffer1, 16);
	MaskPan(gPTStruct.Pan, LG_PAN, buff2);
	PrintBuffer_Eng(sPrnBuffer1, "%s\n\n", (char *)buff2);

	PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_WIDTH|PRN_DOUBLE_ENGLISH);

	//Tenure Options
	memset(lWrkBuf, 0, sizeof(lWrkBuf));
	FormatAmt(lWrkBuf, gPTStruct.TotalAmount, gCurrencySymbol, ASCII_IN);
	PubTrimHeadChars(lWrkBuf, ' ');
	PrintBuffer_SelectFont(sPrnBuffer1, 16);
	PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_WIDTH);

	PrintBuffer_Eng(sPrnBuffer1, "AMOUNT :\n");
	PrintBuffer_Eng(sPrnBuffer1, "%25.25s\n\n", (char *)lWrkBuf);

	PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_HEIGHT|PRN_DOUBLE_WIDTH|PRN_DOUBLE_ENGLISH);
	PrintBuffer_Eng(sPrnBuffer1, "AVAILABLE TENURE OPTIONS\n");

	for(i=1;i<=ItemCount;i++)
	{
		PrintBuffer_Eng(sPrnBuffer1,"  %d)",i);
		PrintBuffer_Eng(sPrnBuffer1,"%s\n",MenuItems[i]);
	}

	// Bottom
	PrintBuffer_Attr(sPrnBuffer1, PRN_DOUBLE_NULL);

	PrintBuffer_Eng(sPrnBuffer1, "\n\n");
	PrintBuffer_Eng(sPrnBuffer1, "   THANK YOU FOR USING Selektpay-NEC CARD\n");
	PrintBuffer_Eng(sPrnBuffer1, "\n\n\n\n\n\n\n");
	PrintBuffer_Eng(sPrnBuffer1, "\n\n");
	PrnInit();
	PrintBuffer_SendToPrinter(sPrnBuffer1);
	return StartPrinter();
}

